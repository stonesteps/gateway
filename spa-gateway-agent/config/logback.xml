<configuration>
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
           <file>${logDir}/bwg.log</file>
            <rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
               <fileNamePattern>${logDir}/bwg.%i.log</fileNamePattern>
                <minIndex>1</minIndex>
                <maxIndex>4</maxIndex>
            </rollingPolicy>
            <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
                <maxFileSize>10MB</maxFileSize>
            </triggeringPolicy>
            <encoder>
        <pattern>%date %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
            </encoder>
    </appender>  


    <appender name="MQTT_TRACE" class="ch.qos.logback.core.FileAppender">
        <file>${logDir}/mqtt_trace.log</file>
        <encoder>
            <pattern>%date %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
        </encoder>
    </appender>

    <root level="info">
        <appender-ref ref="FILE" />
    </root>
    <!-- this traps mqtt connection health with the cloud, good to leave this on,
         eventually can send this log out to diagnostic views to troubleshoot, etc.
         any time the mqtt client gets disconnected from broker it'll start logging retries, etc
         into here
         -->
    <logger name="mqtt_trace" level="DEBUG" additivity="false">
        <appender-ref ref="FILE" />
        <appender-ref ref="MQTT_TRACE" />
    </logger>

</configuration>
